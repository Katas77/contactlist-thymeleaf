<!--
  Thymeleaf шаблон: contacts.html
  Разместить: src/main/resources/templates/contacts.html
  Подключаемый CSS: src/main/resources/static/css/contacts.css
  Используемые модельные атрибуты:
    - contacts : Iterable<Contact>
    - q       : строка поиска (optional)
-->
<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Список контактов</title>
    <!-- Подключение внешнего CSS из /static/css/ -->
    <link rel="stylesheet" th:href="@{/css/contacts.css}" />
</head>
<body>
<div class="wrap">
    <h1>Список контактов</h1>
    <div class="subtitle">Управляйте контактами: просматривайте, редактируйте и удаляйте записи.</div>

    <div class="table-card">
        <div class="search-bar">
            <form th:action="@{/contacts}" method="get">
                <input class="search-input" type="text" name="q" placeholder="Поиск по имени, фамилии, email или телефону"
                       th:value="${q}">
                <button class="search-btn" type="submit">Найти</button>
            </form>
            <a class="clear-link" th:href="@{/contacts}">Сбросить</a>
        </div>

        <div class="table-scroll">
            <table>
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Имя</th>
                    <th>Фамилия</th>
                    <th>Email</th>
                    <th>Телефон</th>
                    <th>Действия</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="contact : ${contacts}">
                    <td th:text="${contact.id}"></td>
                    <td th:text="${contact.firstName}"></td>
                    <td th:text="${contact.lastName}"></td>
                    <td th:text="${contact.email}"></td>
                    <td th:text="${contact.phone}"></td>
                    <td class="actions">
                        <a th:href="@{/contacts/edit/{id}(id=${contact.id})}" class="edit">Редактировать</a>
                        <a th:href="@{/contacts/delete/{id}(id=${contact.id})}"
                           class="delete"
                           onclick="return confirm('Удалить контакт?');">Удалить</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <a th:href="@{/contacts/create}" class="add-contact">Добавить контакт</a>
</div>
</body>
</html>